<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Add Product - Dashboard HTML Template</title>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Roboto:400,700"
    />
    <!-- https://fonts.google.com/specimen/Roboto -->
    <link rel="stylesheet" href="css/fontawesome.min.css" />
    <!-- https://fontawesome.com/ -->
    <link rel="stylesheet" href="jquery-ui-datepicker/jquery-ui.min.css" type="text/css" />
    <!-- http://api.jqueryui.com/datepicker/ -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <!-- https://getbootstrap.com/ -->
    <link rel="stylesheet" href="css/templatemo-style.css">
    <style>
    	/*#ty_tc_top span{
    		margin-left: 50px;
    		margin-top: 50px;
    	}
    	#ty_tc_top input{
    		width: 15px;
    		height: 15px;
    		margin-left: 10px;
    	}*/
    	#xm_tc span{
    		margin-left: 20px;
    	}
    	#yc_xm_top span{
    		
    	}
    
    </style>
  </head>

  <body>
   
            

                <div class="collapse navbar-collapse" id="navbarSupportedContent">
										<ul class="navbar-nav mx-auto h-100">
                        <li class="nav-item">
                            <a class="nav-link active" href="index.html">
                                <i class="fas fa-tachometer-alt"></i>
                                	今日信息
                                <span class="sr-only">(current)</span>
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <i class="far fa-file-alt"></i>
                                <span>
                                    	报表管理 <i class="fas fa-angle-down"></i>
                                </span>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="#">日报表</a>
                                <a class="dropdown-item" href="#">周报表</a>
                                <a class="dropdown-item" href="#">月报表</a>
                            </div>
                        </li>
                         <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="hd_xl" role="button" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-shopping-cart"></i>
                                <span>
                               			活动管理  <i class="fas fa-angle-down"></i>
                               	</span>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="hd_xl">
                                <a class="dropdown-item" href="products.html">活动管理</a>
                                <a class="dropdown-item" href="project.html">项目管理</a>
                                 <a class="dropdown-item" href="Data-statistics.html">数据统计</a>
                            </div>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="customer.html">
                                <i class="far fa-user"></i>
                                	客户管理
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="#">
                                <i class="far fa-user-circle"></i>
                                	员工管理
                            </a>
                        </li>
						<li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-apple-alt"></i>
                                <span>
                                   	 服务管理 <i class="fas fa-angle-down"></i>
                                </span>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="#">餐饮管理</a>
                                <a class="dropdown-item" href="#">住宿管理</a>
                            </div>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown"
                                aria-haspopup="true" aria-expanded="false">
                                <i class="fas fa-cog"></i>
                                <span>
                                    	账号设置 <i class="fas fa-angle-down"></i>
                                </span>
                            </a>
                            <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <a class="dropdown-item" href="accounts.html">个人设置</a>
                                <a class="dropdown-item" href="#">查看薪资</a>
                            </div>
                        </li>
                    </ul>
      				      <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link d-block" href="login.html">
                                Admin, <b>Logout</b>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

        </nav>
    <div class="container tm-mt-big tm-mb-big">
      <div class="row">
        <div class="col-xl-12 col-lg-10 col-md-12 col-sm-12 mx-auto">
          <div class="tm-bg-primary-dark tm-block tm-block-h-auto">
            <div class="row">
              <div class="col-12">
                <h2 class="tm-block-title d-inline-block">添加基地</h2>
              </div>
            </div>
            <div class="row tm-edit-product-row">
              <div class="col-xl-12 col-lg-12 col-md-12">
                <form action="" class="tm-edit-product-form">
                  <div class="form-group mb-3">
                    <label
                      for="name"
                      >基地名称
                    </label>
                    <input
                      id="name"
                      name="name"
                      type="text"
                      class="form-control validate"
                      required
                    />
                  </div>
                   <div hidden id="show_ry" class="form-group mb-3">
                    <label
                      for=""
                      >已选人员</label
                    >
                    <div class="form-group col-lg-12">
                    	<table class="table" id="show_ry_table">
                    		<tr>
                    			<th>名字</th>
                    			<th></th>
                    		</tr>
                    	</table>
                    </div>
                  </div>
                      <div class="form-group col-lg-12">
                          <label
                            for="expire_date"
                            >到期时间
                          </label>
                          <input
                            id="expire_date"
                            name="expire_date"
                            type="text"
                            class="form-control validate"
                            data-large-mode="true"
                          />
                        </div>
                  <div hidden id="show_xm" class="form-group mb-3">
	                	<h5 style="color: white;">已选项目</h5>
	                	<table class="table" id="show_xm_table">
	                		<tr>
	                			<th>项目名称</th>
	                			<th></th>
	                		</tr>
	                	</table>
                	</div>
                   
              </div>
              
                
                
              </div>
              <div class="col-12" style="margin-top: 20px;">
                <button type="submit" class="btn btn-primary btn-block text-uppercase">新增基地</button>
              </div>
            </form>
            </div>
          </div>
        </div>
      </div>
      <div id="ry_jia_div">
      <div id="ry_tc" style="width: 358px;height: 208px;border: 1px solid #466675;background: white;
			 filter:alpha(opacity:80); opacity:0.9;  -moz-opacity:0.2;-khtml-opacity: 0.5;
			 position: relative;bottom: 320px;left: 570px;overflow-y:scroll; overflow-x:scroll;display: none;"> 
				 	<div class="" id="ty_tc_top" style="background: #466675;text-align: center;" >
				 		<table class="table" id="ry_tb">
				 			<thead>
				 				<tr>
				 					<th>名字</th>
				 					<th></th>
				 				</tr>
				 			</thead>
				 			<tbody>
				 					<tr>
				 						<td ryid="1">张三</td>
				 						<td><input type="checkbox" name="ck_ry"/></td>
				 					</tr>
				 					<tr>
				 						<td ryid="2">李四</td>
				 						<td><input type="checkbox" name="ck_ry"/></td>
				 					</tr>
				 					<tr>
				 						<td ryid="3">王五</td>
				 						<td><input type="checkbox" name="ck_ry"/></td>
				 					</tr>
				 					
				 			</tbody>
				 			
				 		</table>
				 		<input
					    type="button"
					    class=" btn-primary btn-block1 mx-auto"
					    value="确定"
					    style="width: 50px;height: 20px;text-align: center;
					    margin-top: 20px;border-radius: 30px 30px 30px 30px;
					    height: 30px;width: 80px;"
					    onclick="hidden_ry(this)"
					  />
				 	</div>
					</div>
			</div>	
			
    </div>
    
    <script src="js/jquery-3.3.1.min.js"></script>
    <!-- https://jquery.com/download/ -->
    <script src="jquery-ui-datepicker/jquery-ui.min.js"></script>
    <!-- https://jqueryui.com/download/ -->
    <script src="js/bootstrap.min.js"></script>
    <!-- https://getbootstrap.com/ -->
    <script>
      $(function() {
        $("#expire_date").datepicker();
        
        $("#xz_xm_button").click(function(){
        	$("#xm_tc").css("display","block");
        })
        
        //克隆人员信息
        $("[name=ck_ry]").click(function(){
        	if(this.checked){
        		var ry=$(this).parents("tr").clone();
	        	ry.find("input").remove();
	        	var remove_ry=$("<td><a href='javascript:void(0)' style='color: red;' id='yc_ry_a' onclick='yc_ry(this)'>移除</a></td>");
	        	$(ry).append(remove_ry);
	        	$("#show_ry").removeAttr("hidden"); 
	        	$("#show_ry_table").append(ry);
        	}
        });
        
        //克隆项目信息
        $("[name=ck_xm]").click(function(){
        	if (this.checked) {
        		var xm=$(this).parents("tr").clone();
	        	xm.find("input").remove();
	        	var remove_xm=$("<td><a href='javascript:void(0)' style='color: red;' id='yc_ry_a' onclick='yc_xm(this)'>移除</a></td>");
	        	$(xm).append(remove_xm);
	        	$("#show_xm").removeAttr("hidden"); 
	        	$("#show_xm_table").append(xm);
        	}
        	
        })
      });
      function xsry(){
      	$("#ry_tc").css("display","block");
      }
      
      //移除以克隆的人员信息与弹窗的checkbox
     	function yc_ry(th){
     		var show_ry_length=$("#show_ry_table").find("tr").length;
     		if(show_ry_length==2){
     			$("#show_ry").hide();
     		}
     		$(th).parents("tr").remove();   		
     		var ry_sz=[];
     		var ry_id=$(th).parents("tr").find("td:eq(0)").attr("ryid");
     		var ry_id2;
     		var id;
     		$("#ry_tb").each(function(){
     			id=$(this).find("td:nth-of-type(1)");
     			$.each(id, function(i,obj) {
     				ry_id2=$(obj).attr("ryid");
     				ry_sz.push(ry_id2);
     			});
     		})
     		for (var i=0;i<ry_sz.length;i++) {
     				if(ry_id==ry_sz[i]){
     					var rytd=$("#ry_tb").find("[ryid='"+ry_id+"']");
     					rytd.next().find("input").prop("checked",false);
     				} 
		   }
     	}
     	
     	//移除项目信息与以克隆的项目信息
     	function yc_xm(th){
     		var show_xm_length=$("#show_xm_table").find("tr").length;
     		if(show_xm_length==2){
     			$("#show_xm").hide();
     		}
     		$(th).parents("tr").remove();   		
     		var xm_sz=[];
     		var xm_id=$(th).parents("tr").find("td:eq(0)").attr("xmid");
     		var xm_id2;
     		var id;
     		$("#xm_tc").each(function(){
     			id=$(this).find("td:nth-of-type(1)");
     			$.each(id, function(i,obj) {
     				xm_id2=$(obj).attr("xmid");
     				xm_sz.push(xm_id2);
     			});
     		})
     		for (var i=0;i<xm_sz.length;i++) {
     			console.log(xm_sz[i]);
     				if(xm_id==xm_sz[i]){
     					var xmtd=$("#xm_tc").find("[xmid='"+xm_id+"']");
     					xmtd.next().find("input").prop("checked",false);
     				}
		   }
     	}
     	
     	
     	function hidden_ry(th){
     		$("#ry_tc").css("display","none");
     		var show_ry_length=$("#show_ry_table").find("tr").length;
     		if(show_ry_length==1){
     			$("#show_ry").hide();
     		}
     	}
     	function hide_xm(th){
     		$("#xm_tc").css("display","none");
     		var show_xm_length=$("#show_xm_table").find("tr").length;
     		if(show_xm_length==1){
     			$("#show_xm").hide();
     		}
     	}
    </script>
  </body>
</html>
